=== Easy Comment Uploads ===
Contributors: tomdwright
Donate link: http://goo.gl/WFJP6x
Tags: comments, uploads, images
Requires at least: 3.0.0
Tested up to: 3.2.1
Stable tag: 1.01

== Description ==

This plugin allow your visitors to attach images or other file to their comments as easily as possible. I originally designed it for http://langtreeshout.org. It also adds Lightbox code for all inserted images. It has been tested extensively with most recent versions of Wordpress; if anything does not work please just email me at tom.tdw@gmail.com.

If you like it please rate it, give feedback or you can support its further development by donating.

== Screenshots ==

1. Comments with uploaded images and files
2. The plugin's options page
3. You can access the options page from the plugins list
4. Potentially dangerous files prevented from being uploaded
5. The images integrate with most Lightbox plugins

== Upgrade Notice ==

= 0.70 =
 This version contains many important security improvements. You should upgrade as soon as possible to make sure your site is secure.

== Changelog ==

**1.01**

 * Fix bug preventing saving of options.

**1.00**

 * Improved handling of thumbnail script errors.
 * Improved placing of upload form.
 * Improved validation on options page.
 * Media library integration.
 * Redesigned options page.
 * Set size limits for specific file extensions.
 * Upload error handling improvements.
 * Fix visual issues which occurred with some themes.
 * Made all remaining strings translatable.
 * Allow changing of upload form title.

**0.71**

 * Fix compatibility with PHP versions before 5.3.0.

**0.70**

 * Fixed compatibility issues with older versions of Internet Explorer.
 * Improved styling of upload form.
 * Thumbnails of images are now generated to increase speed and reduce bandwidth usage.
 * Option added to change upload directory.
 * Fixed some bugs in blacklist checking.
 * Enable the plugin for specific categories only.
 * Only allow whitelisted filetypes by default for much improved security.
 * Much more informative error messages.
 * Loading image added.
 * Added more robust url verification.
 * Added better filtering of unwanted characters in filenames.
 * Danish translation by Brian Brandt (http://wpdk.dk).
 * Dutch translation by Bard van de Laar (https://launchpad.net/~bartvdlaar).
 * German translations by Hendrik Just (https://launchpad.net/~jh30just) and Roland Heide for Design Contest (http://www.designcontest.com/).
 * Russian translation by Sergey Sedov (https://launchpad.net/~serg-sedov).
 * Spanish translation by ana (https://launchpad.net/~anabelle).

**0.61**

 * Some small bug fixes which prevented some users uploading files.

**0.60**

 * Bulgarian translation by SiteGround (http://www.siteground.com/).
 * French translation by M.HAROUY.
 * Now only file names instead of full urls are shown by default.
 * TinyMCEComments compatibility fixed.
 * NicEdit compatibility fixed.
 * Options reorganised and extended.
 * Manually blacklist file extensions.
 * Optionally allow only certain file extensions.
 * Set limits for uploads per hour based on ip address or user for each class of users.
 * Various bug fixes.

**0.55**

 * Small compatibility improvements.

**0.54**

 * Plugin compatibility improved.

**0.53**

 * Remaining theme compatibility issues finally fixed.

**0.52**

 * Allows only showing upload form on certain pages.

**0.51**

 * Slightly more fail-safe plugin url function.
 * Separated CSS into separate file.

**0.50**

 * Ground-up rewrite of most of the plugin.
 * Removed temporary files.
 * No longer broken on Windows Server.
 * Can now be used in other plugins.
 * Uses the standard Wordpress upload directories.
 * Much improved nonce based security checks.
 * New option to limit size of uploaded files.
 * Much lighter design.

(Thanks to http://www.justin-klein.com/ for help and suggestions).

**0.31**

 * Temp files are now stored in /tmp .
 * Smart auto-insertion of new lines after auto-added links.
 * Fixes bug with reallowing all users to upload.

**0.30**

 * Much improved options page.
 * Options for choosing which users can upload comments.
 * Much nicer formatting for embedded images.
 * Pretty preview for uploaded images.
 * New, more "human friendly" naming scheme.
 * Images only option now transferred server side (so no spoofing).
 * Automated uninstall with clean-up (all file and comments will be saved).

**0.25**

Changes by Pascal de Vink (www.finalist.com):

 * Dutch translation.
 * Options page.
 * File-type checking improvements.

**0.21**

 * be_BY translation thanks to ilyuha (http://antsar.info/).
 * File-type blacklist security fix.

**0.20**

 * ru_RU translation thanks to Fat Cow.

**0.19**

 * pt_BR translation by Claudio Miranda (http://www.claudius.com.br/).

**0.18**

 * Initial support for translations.
 * Improved theme compatibility.
 * General cleanup.

**0.17**

 * Fixed problems with image width in some themes.
 * Changed naming of uploads to prevent conflicts.

**0.15**

 * Ensure that any insecure scripts left over from old versions are removed.
 * Reduced file I/O (should boost performance).

**0.14**

 * Auto-adding the file links to comment (i.e. no copy and paste).
 * Much nice user experience.
 * More code clean-up.
 * Blacklist of dangerous file types (this was a serious security problem in old version, please upgrade ASAP).

**0.10**

 * Better support for non-image uploads.
 * Installation now much less hacky (if it did not work for you before it should now).
 * Upload directories combined.
 * General code clean-up.

For more updates about the plugin or to ask questions, follow me on Twitter: http://twitter.com/tomdwright

== Installation ==

Just add to /wp-content/plugins and activate or use the automatic plugin installer. If you want to use it in Wordpress Mu for all blogs just copy comment-uploads.php to /wp-content/mu-plugins and leave the rest in place or use the new activate site wide option for an much simpler installation.

== Frequently Asked Questions ==

= What license is this plugin available under? =

The GPLv3 of course :-). You can reuse it, hack it, redistribute it or do whatever else you like as long as you keep the source open under the same license. It is and will always be free for personal or commercial use but if you like it you can donate or pay me to work on the features you need. The plugin is supplied with no warranty whatsoever and any contributors will not be held responsible for any damages caused by its use.

= It does not work, what can I do? =

If you need help with the plugin then email me at tom.tdw@gmail.com and I will be more than willing to give any help I can.

= How can I help support the plugin's development? =

I develop the plugin in my free time whilst providing free support for it so if you enjoy using it and would like to support it then any donations would be gratefully received.

If you want to donate then you can do so securely using Paypal:
http://goo.gl/WFJP6

= Is it available in my language? =

Currently the plugin is available in English and 10 other languages but anyone can translate it using Wordpress's standard tools (see http://codex.wordpress.org/Translating_WordPress for more information). If you translate the plugin then please email me the PO files so that other users can benefit from them as well.

Alternatively you can translate the plugin online using an easy web interface on launchpad:
https://translations.edge.launchpad.net/easy-comment-uploads/trunk

= Is it secure? =

The plugin will by default only allow certain types of files which are known to be safe to be uploaded, which should prevent the majority of upload related attacks and has been extensively tested to make sure it as safe as possible. However, as with any plugin, I cannot guarantee that vulnerabilities will not emerge in the future. 

In recent versions, many new security features have been added including NONCE checks, and configurable options to restrict file-types, file-sizes and the allowed frequency of uploads for each type of user.

As with all plugins, new versions include security fixes and resolve other bugs so I always recommend running the latest stable version.

= What browsers does it support? =

It should work in any modern browser. It does not require flash but does require JavaScript support.

It has been tested with:

 * Google Chrome
 * Firefox (version 3 or higher)
 * Internet Explorer (version 6 or higher)

= How can I enable Lightboxes =

If you install the Wordpress Lightbox plugin (http://wordpress.org/extend/plugins/lightbox-2/) then all uploaded images may be displayed using Lightbox support.

= Files are uploaded successfully but not displayed in comments =

This is most likely a problem with your theme.

Certain themes (most notably Thesis) do not correctly call the wp_filter_comment function when displaying comments and hence this and some other plugins will not function correctly. I suggest you try contacting the author of your theme.

= I have just thought of an amazing feature your plugin should have, what can I do? =

Good for you - send me and email or comment and if I like the idea, I will see whether I have time to implement it. If you have a patch or want to contribute then even better - just contact me with a brief introduction and I will add you as a contributor to the plugin.
